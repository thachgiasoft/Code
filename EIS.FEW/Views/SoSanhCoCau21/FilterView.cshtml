@using EIS.FEW.Utils;
@model EIS.FEW.Models.COCAUGIA_DICHVU_FILTER

@Html.DevExpress().FormLayout(settings =>
{
    settings.Name = "formLayout";
    settings.EncodeHtml = false;
    settings.Width = Unit.Percentage(75);
    settings.ColCount = 9;

    settings.Items.Add(item =>
    {
        item.FieldName = "TRANGTHAI";
        item.Caption = "Tháng";
        item.Width = Unit.Percentage(20);
        item.NestedExtensionType = FormLayoutNestedExtensionItemType.ComboBox;
        item.NestedExtension().ComboBox(cb =>
        {
            cb.Name = "cbx_month";
            cb.Width = Unit.Percentage(50);
            cb.SelectedIndex = TimeUtil.CurrentMonthIndex;
            cb.Properties.ValueType = typeof(int);
            cb.Properties.DataSource = TimeUtil.GetListForMonth();
        });
    });
    settings.Items.Add(item =>
    {
        item.FieldName = "TRANGTHAI";
        item.Caption = "Năm";
        item.Width = Unit.Percentage(20);
        item.NestedExtensionType = FormLayoutNestedExtensionItemType.ComboBox;
        item.NestedExtension().ComboBox(cb =>
        {
            cb.Name = "cbx_year";
            cb.Width = Unit.Percentage(50);
            cb.SelectedIndex = 0;
            cb.Properties.ValueType = typeof(string);
            cb.Properties.DataSource = TimeUtil.GetListForYear();
        });
    });

    settings.Items.Add(i =>
    {
        i.FieldName = "COSOKCB_ID";
        i.Caption = "Cơ sở";
        i.Width = Unit.Percentage(60);
        i.ColSpan = 1;
        i.SetNestedContent(() =>
        {
            ViewContext.Writer.Write(Html.Partial("_ComboBoxCoSoKCBPartial"));
        });
    });

    settings.Items.Add(bt =>
    {
        bt.NestedExtensionType = FormLayoutNestedExtensionItemType.Button;
        bt.Caption = @" ";
        bt.Width = Unit.Percentage(2);
        bt.CaptionSettings.Location = LayoutItemCaptionLocation.Right;
        bt.NestedExtension().Button(s =>
        {
            s.Name = "bt_TimKiem";
            s.EnableTheming = false;
            s.Text = "";
            s.AllowFocus = false;
            s.RenderMode = ButtonRenderMode.Link;
            s.Images.Image.SpriteProperties.CssClass = "btnSearch";
            s.Images.Image.SpriteProperties.HottrackedCssClass = "btnSearchHottracked";
            s.Images.Image.SpriteProperties.PressedCssClass = "btnSearchPressed";
            s.ToolTip = "Tìm kiếm";
            s.ClientSideEvents.Click = "Filter";
        });
    });

}).GetHtml()